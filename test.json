{
    "Actions": [
        {
            "Name": "Update package list",
            "Description": "Updates apt package list",
            "Steps": [
                {
                    "Tool": "apt",
                    "Method": "update",
                    "Arguments": ""
                }
            ]
        },
        {
            "Name": "Upgrade packages",
            "Description": "Upgrades apt packages",
            "Tool": "apt",
            "Method": "upgrade",
            "Arguments": "-y"
        },
        {
            "Name": "Install basic dev packages",
            "Description": "Installs basic development packages",
            "Steps": [
                {
                    "Tool": "apt",
                    "Method": "install",
                    "Arguments": "-y",
                    "Packages": ["gdb", "build-essential", "valgrind", "git", "gcc-12", "g++-12", "ninja-build"]
                }
            ]
        },
        {
            "Name": "Install CMake",
            "Description": "Installs CMake, gcovr, colorlog, pygments, etc. using pip3",
            "Steps": [
                {
                    "Tool": "apt",
                    "Method": "purge",
                    "Arguments": "-y",
                    "Packages": ["cmake"]
                },
                {
                    "Tool": "apt",
                    "Method": "install",
                    "Arguments": "-y",
                    "Packages": ["python3", "python3-pip"]
                },
                {
                    "Tool": "pip3",
                    "Method": "install",
                    "Packages": ["cmake", "gcovr", "colorlog", "pygments"]
                }
            ]
        },
        {
            "Name": "Install clang tools",
            "Description": "Installs clang tools",
            "Steps": [
                {
                    "Tool": "apt",
                    "Method": "install",
                    "Arguments": "-y",
                    "Packages": ["wget", "unzip", "gnupg2"]

                },
                {
                    "Tool": "gpg",
                    "Method": "add-keyring",
                    "Source": "https://apt.llvm.org/llvm-snapshot.gpg.key",
                    "Arguments": "--dearmor",
                    "Output": "llvm-snapshot-keyring.gpg"
                },
                {
                    "Tool": "apt",
                    "Method": "add-repository",
                    "Arguments": "deb http://apt.llvm.org/${UBUNTU_CODENAME}/ llvm-toolchain-${UBUNTU_CODENAME}-${CLANG_VERSION} main",
                    "SignedBy": "llvm-snapshot-keyring.gpg",
                    "Output": "llvm-toolchain.list",
                    "Arch": "amd64"
                },
                {
                    "Tool": "Action",
                    "Method": "Update package list"
                },
                {
                    "Tool": "apt",
                    "Method": "install",
                    "Arguments": "-y",
                    "Packages": ["clang-${CLANG_VERSION}", 
                                "clangd-${CLANG_VERSION}", 
                                "clang-tools-${CLANG_VERSION}", 
                                "clang-tidy-${CLANG_VERSION}", 
                                "clang-format-${CLANG_VERSION}", 
                                "lldb-${CLANG_VERSION}", 
                                "lld-${CLANG_VERSION}", 
                                "ibc++-${CLANG_VERSION}-dev",
                                "libc++abi-${CLANG_VERSION}-dev"]
                }
                


                
            ]

        }

    ],

    "Recipes": {
        "DevTools": {
            "Name": "Dev tools",
            "Description": "Installs basic development tools.",
            "Actions": ["Update package list", "Remove old Cmake", "Install basic dev packages", "Install CMake"]
        },
        "PicoTool": {
            "Name": "Pico tools",
            "Description": "Installs Pico SDK, arm compiler and other tools needed for RPi Pico development.",
            "Actions": ["Update package list", "Install Pico SDK", "Install Pimoroni SDK", "Install Pico tools"]
        }
    }
}